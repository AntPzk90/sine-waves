/*!
 _______ _____ __   _ _______      _  _  _ _______ _    _ _______ _______
 |______   |   | \  | |______      |  |  | |_____|  \  /  |______ |______
 ______| __|__ |  \_| |______      |__|__| |     |   \/   |______ ______|
                                                                         
 sine-waves v0.3.0 <https://github.com/isuttell/sine-waves>
 Contributor(s): Isaac Suttell <isaac@isaacsuttell.com>
 Last Build: 2015-02-16
*/
!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b){b.exports={PI180:Math.PI/180,PI2:2*Math.PI,HALFPI:Math.PI/2}},{}],2:[function(a,b){var c=a("./constants.js"),d={};d.linear=function(a,b){return b},d.sinein=function(a,b){return b*(Math.sin(a*Math.PI-c.HALFPI)+1)*.5},d.sineout=function(a,b){return b*(Math.sin(a*Math.PI+c.HALFPI)+1)*.5},d.sineinout=function(a,b){return b*(Math.sin(a*c.PI2-c.HALFPI)+1)*.5},b.exports=d},{"./constants.js":1}],3:[function(){Function.prototype.bind||(Function.prototype.bind=function(a){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var b=Array.prototype.slice.call(arguments,1),c=this,d=function(){},e=function(){return c.apply(this instanceof d&&a?this:a,b.concat(Array.prototype.slice.call(arguments)))};return d.prototype=this.prototype,e.prototype=new d,e});for(var a=["ms","moz","webkit","o"],b=0;b<a.length&&!window.requestAnimationFrame;++b)window.requestAnimationFrame=window[a[b]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[a[b]+"CancelAnimationFrame"]||window[a[b]+"CancelRequestAnimationFrame"];if(!window.requestAnimationFrame){var c=0;window.requestAnimationFrame=function(a){var b=(new Date).getTime(),d=Math.max(0,16-(b-c)),e=window.setTimeout(function(){a(b+d)},d);return c=b+d,e}}window.cancelAnimationFrame||(window.cancelAnimationFrame=function(a){clearTimeout(a)})},{}],4:[function(a,b){{var c=a("./constants.js"),d={},e=d.isType=function(a,b){var c={}.toString.call(a).toLowerCase();return c==="[object "+b.toLowerCase()+"]"},f=d.isFunction=function(a){return e(a,"function")},g=d.isString=function(a){return e(a,"string")},h=(d.isNumber=function(a){return e(a,"number")},d.shallowClone=function(a){var b={};for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);return b});d.defaults=function(a,b){e(b,"object")||(b={});var c=h(a);for(var d in b)b.hasOwnProperty(d)&&(c[d]=b[d]);return c},d.degreesToRadians=function(a){if(!e(a,"number"))throw new TypeError("Degrees is not a number");return a*c.PI180},d.getFn=function(a,b,c){return f(b)?b:g(b)&&f(a[b.toLowerCase()])?a[b.toLowerCase()]:a[c]}}b.exports=d},{"./constants.js":1}],5:[function(a,b){var c=a("./constants.js"),d={};d.sine=function(a){return Math.sin(a)},d.sin=d.sine,d.sign=function(a){return a=+a,0===a||isNaN(a)?a:a>0?1:-1},d.square=function(a){return d.sign(Math.sin(a*c.PI2))},d.sawtooth=function(a){return 2*(a-Math.floor(a+.5))},d.triangle=function(a){return Math.abs(d.sawtooth(a))},b.exports=d},{"./constants.js":1}],6:[function(a,b){function c(a){if(this.options=e.defaults(this.options,a),this.el=this.options.el,delete this.options.el,!this.el)throw"No Canvas Selected";if(this.ctx=this.el.getContext("2d"),this.waves=this.options.waves,delete this.options.waves,!this.waves||!this.waves.length)throw"No waves specified";this.dpr=window.devicePixelRatio||1,this.updateDimensions(),window.addEventListener("resize",this.updateDimensions.bind(this)),this.setupUserFunctions(),this.easeFn=e.getFn(g,this.options.ease,"linear"),this.rotation=e.degreesToRadians(this.options.rotate),e.isType(this.options.running,"boolean")&&(this.running=this.options.running),this.setupWaveFns(),this.loop()}function d(a,b){return e.isType(a,"number")?a:(a=a.toString(),a.indexOf("%")>-1?(a=parseFloat(a),a>1&&(a/=100),b*a):a.indexOf("px")>-1?parseInt(a,10):void 0)}var e=a("./lib/utilities.js"),f=a("./lib/waves.js"),g=a("./lib/ease.js");a("./lib/polyfills.js"),c.prototype.options={speed:10,rotate:0,ease:"Linear",wavesWidth:"95%"},c.prototype.setupWaveFns=function(){for(var a=-1,b=this.waves.length;++a<b;)this.waves[a].waveFn=e.getFn(f,this.waves[a].type,"sine")},c.prototype.setupUserFunctions=function(){e.isFunction(this.options.resizeEvent)&&(this.options.resizeEvent.call(this),window.addEventListener("resize",this.options.resizeEvent.bind(this))),e.isFunction(this.options.initialize)&&this.options.initialize.call(this)};var h={timeModifier:1,amplitude:50,wavelength:50,segmentLength:10,lineWidth:1,strokeStyle:"rgba(255, 255, 255, 0.2)",type:"Sine"};c.prototype.getDimension=function(a){return e.isNumber(this.options[a])?this.options[a]:e.isFunction(this.options[a])?this.options[a].call(this,this.el):"width"===a?this.el.clientWidth:"height"===a?this.el.clientHeight:void 0},c.prototype.updateDimensions=function(){var a=this.getDimension("width"),b=this.getDimension("height");this.width=this.el.width=a*this.dpr,this.height=this.el.height=b*this.dpr,this.el.style.width=a+"px",this.el.style.height=b+"px",this.waveWidth=d(this.options.wavesWidth,this.width),this.waveLeft=(this.width-this.waveWidth)/2,this.yAxis=this.height/2},c.prototype.clear=function(){this.ctx.clearRect(0,0,this.width,this.height)},c.prototype.time=0,c.prototype.update=function(a){this.time=this.time-.007,"undefined"==typeof a&&(a=this.time);var b=-1,c=this.waves.length;for(this.clear(),this.ctx.save(),this.rotation>0&&(this.ctx.translate(this.width/2,this.height/2),this.ctx.rotate(this.rotation),this.ctx.translate(-this.width/2,-this.height/2));++b<c;){var d=this.waves[b].timeModifier||1;this.drawWave(a*d,this.waves[b])}this.ctx.restore(),b=void 0,c=void 0},c.prototype.getPoint=function(a,b,c){var d=a*this.options.speed+(-this.yAxis+b)/c.wavelength,e=c.waveFn.call(this,d,f),g=this.easeFn.call(this,b/this.waveWidth,c.amplitude);return d=b+this.waveLeft,e=g*e+this.yAxis,{x:d,y:e}},c.prototype.drawWave=function(a,b){b=e.defaults(h,b),this.ctx.lineWidth=b.lineWidth*this.dpr,this.ctx.strokeStyle=b.strokeStyle,this.ctx.lineCap="butt",this.ctx.lineJoin="round",this.ctx.beginPath(),this.ctx.moveTo(0,this.yAxis),this.ctx.lineTo(this.waveLeft,this.yAxis);var c,d;for(c=0;c<this.waveWidth;c+=b.segmentLength)d=this.getPoint(a,c,b),this.ctx.lineTo(d.x,d.y),d=void 0;c=void 0,b=void 0,this.ctx.lineTo(this.width,this.yAxis),this.ctx.stroke()},c.prototype.running=!0,c.prototype.loop=function(){this.running===!0&&this.update(),window.requestAnimationFrame(this.loop.bind(this))},b.exports=window.SineWaves=c},{"./lib/ease.js":2,"./lib/polyfills.js":3,"./lib/utilities.js":4,"./lib/waves.js":5}]},{},[6]);